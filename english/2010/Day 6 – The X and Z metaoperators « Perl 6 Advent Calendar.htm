<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Day 6 &#8211; The X and Z metaoperators &laquo; Perl 6 Advent Calendar</title>

<link rel="stylesheet" href="http://s0.wp.com/wp-content/themes/pub/kubrick/style.css?m=1321457825g&amp;3" type="text/css" media="screen" />
<!--[if lte IE 8]><link rel="stylesheet" href="http://s0.wp.com/wp-content/themes/pub/kubrick/ie.css?m=1306999034g" type="text/css" media="screen" /><![endif]-->
<link rel="pingback" href="http://perl6advent.wordpress.com/xmlrpc.php" />

<meta name="google-site-verification" content="YPNxtMSK3Jj7JR2XCK-hDqmF9xDIeBEyvYm3aT1s71Y" />
<link rel="alternate" type="application/rss+xml" title="Perl 6 Advent Calendar &raquo; Feed" href="http://perl6advent.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Perl 6 Advent Calendar &raquo; Comments Feed" href="http://perl6advent.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Perl 6 Advent Calendar &raquo; Day 6 &#8211; The X and Z&nbsp;metaoperators Comments Feed" href="http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<link rel="stylesheet" href="http://s0.wp.com/wp-content/themes/h4/global.css?m=1313010128g" type="text/css" />
<link rel='stylesheet' id='loggedout-subscribe-css'  href='http://s2.wp.com/wp-content/blog-plugins/loggedout-follow/widget.css?m=1322602715g&#038;ver=20111128' type='text/css' media='all' />
<link rel='stylesheet' id='post-reactions-css'  href='http://s2.wp.com/wp-content/mu-plugins/post-flair/style.css?m=1322086815g&#038;ver=3' type='text/css' media='all' />
<script type='text/javascript' src='http://s1.wp.com/wp-includes/js/jquery/jquery.js?m=1322588680g&#038;ver=1.7.1'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/blog-plugins/loggedout-follow/widget.js?m=1320005309g&#038;ver=20111128'></script>
<script type='text/javascript' src='http://s1.wp.com/wp-includes/js/comment-reply.js?m=1306998941g&#038;ver=20090102'></script>
<link rel='stylesheet' id='highlander-comments-css'  href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1323127129g&#038;ver=20110620' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='http://s0.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1307172301g&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://perl6advent.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://perl6advent.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Day 5 &#8211; Why Perl syntax does what you&nbsp;want' href='http://perl6advent.wordpress.com/2010/12/05/why-perl-syntax-dwyw/' />
<link rel='next' title='Day 7 &#8211; Lexical&nbsp;variables' href='http://perl6advent.wordpress.com/2010/12/07/day-7-lexical-variables/' />
<meta name="generator" content="WordPress.com" />
<link rel='canonical' href='http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/' />
<link rel='shortlink' href='http://wp.me/pJ3YZ-84' />
<link rel="alternate" type="application/json+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=json&url=http%3A%2F%2Fperl6advent.wordpress.com%2F2010%2F12%2F06%2Fthe-x-and-z-metaoperators%2F&for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=xml&url=http%3A%2F%2Fperl6advent.wordpress.com%2F2010%2F12%2F06%2Fthe-x-and-z-metaoperators%2F&for=wpcom-auto-discovery" /><meta property="og:type" content="article" />
<meta property="og:title" content="Day 6 &#8211; The X and Z&nbsp;metaoperators" />
<meta property="og:url" content="http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/" />
<meta property="og:description" content="One of the new ideas in Perl 6 is the metaoperator, an operator which combines with an ordinary operator in order to change its behaviour. There are several of them, but in this post we will concen..." />
<meta property="og:site_name" content="Perl 6 Advent Calendar" />
<link rel="shortcut icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311976025g" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311976025g" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="http://s0.wp.com/i/webclip.png?m=1311618118g" />
<link rel='openid.server' href='http://perl6advent.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://perl6advent.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://perl6advent.wordpress.com/osd.xml" title="Perl 6 Advent Calendar" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />
	<style type="text/css">
	/* <![CDATA[ */
			/* ]]> */
	</style>
	<style type="text/css">
#header     { margin: 0 !important; margin: 0 0 0 1px; padding: 1px; height: 198px; width: 758px; }
#headerimg  { margin: 7px 9px 0; height: 192px; width: 740px; }
#headerimg { background: url(http://perl6advent.files.wordpress.com/2009/12/perl6advent2.png) no-repeat top;}
#header h1 a, #header h1 a:hover, #header .description {
	color: #ffffff;
}
</style>
<style type='text/css'><!--
body { background: url("http://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickbgcolor.gif?m=1306999034g"); }
#page { background: url("http://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickbgwide.gif?m=1306999034g") repeat-y top !important; border: none; }
#header { background: url("http://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickheader.gif?m=1306999034g") no-repeat bottom center; }
#footer { background: url("http://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickfooter.gif?m=1306999034g") no-repeat bottom; border: none;}
#header { margin: 0 !important; margin: 0 0 0 1px; padding: 1px; height: 198px; width: 758px; }
#headerimg { margin: 7px 9px 0; height: 192px; width: 740px; }
#headerimg h1 a, #headerimg h1 a:visited, #headerimg .description { color: #FFFFFF; }
#headerimg h1 a, #headerimg .description { display:  }

	--></style><meta name="application-name" content="Perl 6 Advent Calendar" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Something cool about Perl 6 every day" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://perl6advent.wordpress.com/feed/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" />
<script type="text/javascript" src="http://rt.liftdna.com/liftrtb2_1.js"></script>
<script type="text/javascript" src="http://rt.liftdna.com/WP.js"></script>
<script type="text/javascript"> 
	window.google_analytics_uacct = "UA-52447-2"; 
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script>
</head>
<body class="typekit-enabled highlander-enabled highlander-light">
<div id="page">


<div id="header">
	<div id="headerimg" onclick=" location.href='http://perl6advent.wordpress.com';" style="cursor: pointer;">
		<h1><a href="http://perl6advent.wordpress.com/">Perl 6 Advent Calendar</a></h1>
		<div class="description">Something cool about Perl 6 every day</div>
	</div>
</div>
<hr />

	<div id="content" class="widecolumn">

	
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="http://perl6advent.wordpress.com/2010/12/05/why-perl-syntax-dwyw/" rel="prev">Day 5 &#8211; Why Perl syntax does what you&nbsp;want</a></div>
			<div class="alignright"><a href="http://perl6advent.wordpress.com/2010/12/07/day-7-lexical-variables/" rel="next">Day 7 &#8211; Lexical&nbsp;variables</a> &raquo;</div>
		</div>

		<div class="post-500 post type-post status-publish format-standard hentry category-2010 tag-operators clear" id="post-500">
						<h2>Day 6 &#8211; The X and Z&nbsp;metaoperators</h2>
			<small class="single-by"><span class="by-author"><span class="sep">by</span> <span class="author vcard"><a class="url fn n" href="http://perl6advent.wordpress.com/author/mawich/" title="View all posts by Matthew Walton" rel="author">Matthew Walton</a></span> </span></small>

			<div class="entry">
				<p>One of the new ideas in Perl 6 is the metaoperator, an operator which combines with an ordinary operator in order to change its behaviour. There are several of them, but in this post we will concentrate on just two of them: <code>X</code> and <code>Z</code>.</p>
<p>The <code>X</code> operator is one you might already have seen in its ordinary role as the infix cross operator. It combines lists together, one element from each, in every combination:</p>
<pre>
&gt; say ((1, 2) X ('a', 'b')).perl
((1, "a"), (1, "b"), (2, "a"), (2, "b"))
</pre>
<p>However, this <code>infix:&lt;X&gt;</code> operator is actually just a shorthand for the <code>X</code> metaoperator applied to the list concatenation operator <code>infix:&lt;,&gt;</code>. Indeed, you&#8217;re perfectly at liberty to write</p>
<pre>
&gt; say ((1, 2) X, (10, 11)).perl
((1, 10), (1, 11), (2, 10), (2, 11))
</pre>
<p>If you like. So what happens if you apply <code>X</code> to a different infix operator? How about <code>infix:&lt;+&gt;</code></p>
<pre>
&gt; say ((1, 2) X+ (10, 11)).perl
(11, 12, 12, 13)
</pre>
<p>What&#8217;s it done? Instead of creating a list of all the elements picked for each combination, the operator applies the addition infix to them, and the result is not a list but a single number, the sum of all the elements in that combination.</p>
<p>This works for any infix operator you care to use. How about string concatenation, <code>infix:&lt;~&gt;</code>?</p>
<pre>
&gt; say ((1, 2) X~ (10, 11)).perl
("110", "111", "210", "211")
</pre>
<p>Or perhaps the numeric equality operator <code>infix:&lt;==&gt;</code>?</p>
<pre>
&gt; say ((1, 2) X== (1, 1)).perl
(Bool::True, Bool::True, Bool::False, Bool::False)
</pre>
<p>But this post is also meant to be about the <code>Z</code> metaoperator. We expect you may have already figured out what it does, if you&#8217;ve encountered the <code>infix:&lt;Z&gt;</code> operator before, which is of course just a shortcut for <code>Z,</code>. If a Haskell programmer understands <code>infix:&lt;Z&gt;</code> as being like the <code>zip</code> function, then the <code>Z</code> metaoperator is like <code>zipWith</code>.</p>
<pre>
&gt; say ((1, 2) Z, (3, 4)).perl
((1, 3), (2, 4))
&gt; say ((1, 2) Z+ (3, 4)).perl
(4, 6)
&gt; say ((1, 2) Z== (1, 1)).perl
(Bool::True, Bool::False)
</pre>
<p><code>Z</code>, then, operates on each element of each list in turn, working on the first elements together, then the second, then the third for however many there are. It stops when it reaches the end of a list regardless of which side that list is on.</p>
<p><code>Z</code> is also lazy, so you can apply it to two infinite lists and it will only generate as many results as you need. <code>X</code> can only handle an infinite list on the left, otherwise it would never manage to get anywhere at all.</p>
<p>At the time of writing, Rakudo appears to suffer from a bug where <code>infix:&lt;Z&gt;</code> and <code>infix:&lt;Z,&gt;</code> are not identical: the former produces a flattened result list. S03 shows that the behaviour of the latter is correct.</p>
<p>These metaoperators, then, become powerful tools for performing operations encompassing the individual elements of multiple lists, whether those elements are associated in some way based on their indexes as with <code>Z</code>, or whether you just want to examine all possible combinations with <code>X</code>.</p>
<p>Got a list of keys and values and you want to make a hash? Easy!</p>
<pre>
my %hash = @keys Z=&gt; @values;
</pre>
<p>Or perhaps you want to iterate over two lists in parallel?</p>
<pre>
for @a Z @b -&gt; $a, $b { ... }
</pre>
<p>Or three?</p>
<pre>
for @a Z @b Z @c -&gt; $a, $b, $c { ... }
</pre>
<p>Or maybe you want to find out all the possible totals you could get from rolling three ten-sided dice:</p>
<pre>
my @d10 = 1 ... 10;
my @scores = (@d10 X+ @d10) X+ @d10;
</pre>
<p>If you want to see some real-world use of these metaoperators, <a href="https://github.com/moritz/perl6-Sudoku/blob/master/lib/Sudoku.pm">Sudoku.pm</a> in Moritz Lenz&#8217;s Sudoku solver.</p>

<div id="wpcom_below_post"  class="wpadvert" style="text-align: center; padding: 5px; background: #; padding: 5px; margin: 10px auto; width: 310px;">
<!-- <span style="text-align: left; letter-spacing: 1px; font: 8px/1em Verdana, sans-serif; color: #ccc; text-transform: uppercase; display: block; padding: 0 1px;">Advertisement</span> -->
<script type="text/javascript">
LD_AddCustomAttr("AdOpt", "1");
LD_AddCustomAttr("Origin", "other");
LD_AddCustomAttr("theme_bg", "ffffff"); 
LD_AddCustomAttr("theme_text", "333333"); 
LD_AddCustomAttr("theme_link", "0066cc"); 
LD_AddCustomAttr("theme_border", "f9f9f9"); 
LD_AddCustomAttr("theme_url", "114477"); 
LD_AddCustomAttr("LangId", "1");
LD_AddCustomAttr("Autotag", "technology");
LD_AddCustomAttr("Tag", "2010");
LD_AddCustomAttr("Tag", "operators");

LD_AddSlot("wpcom_below_post");
LD_GetBids();
</script>
</div><div class="sharedaddy sd-like-enabled"><div id="wpl-likebox" class="sd-block sd-like"><h3 class="sd-title">Like this:</h3><div class="sd-content"><div id="wpl-button"><a href='http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/?like=1&amp;_wpnonce=762128a6f3' title='I like this post' class='like needs-login sd-button' rel='nofollow'><span>Like</span></a></div><div id="wpl-count" class="sd-like-count">Be the first to like this post.</div></div></div></div>
								<p class="clear">Tags: <a href="http://perl6advent.wordpress.com/tag/operators/" rel="tag">operators</a></p>
				<p class="postmetadata alt">
					<small>
												This entry was posted on December 6, 2010 at 12:00 am and is filed under <a href="http://perl6advent.wordpress.com/category/2010/" title="View all posts in 2010" rel="category tag">2010</a>.						You can follow any responses to this entry through the <a href='http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/feed/'>RSS 2.0</a> feed.
													You can <a href="#respond">leave a response</a>, or <a href="http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/trackback/" rel="trackback">trackback</a> from your own site.
						
					</small>
				</p>

			</div>
					</div>

	
<!-- You can start editing here. -->
	<h3 id="comments">10 Responses to &#8220;Day 6 &#8211; The X and Z&nbsp;metaoperators&#8221;</h3>

	<ol class="commentlist">
					<li class="comment even thread-even depth-1 highlander-comment" id="comment-430">
			<img alt='' src='http://0.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite>Christoph</cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-430" title="">December 6, 2010 at 10:37 am</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=430#respond' onclick='return addComment.moveForm("comment-430", "430", "respond", "500")'>Reply</a> </small>

			<p>&gt; X can only handle an infinite list on the left, otherwise it would never manage to get anywhere at all.</p>
<p>This restriction only applies because S03 demands ordered results (&#8220;The returned lists are ordered such that the rightmost elements vary most rapidly.&#8221;) If you drop this requirement, X could easily take infinite lists on both sides (cross-products of countable sets are still countable)</p>
</li>
			<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-432">
			<img alt='' src='http://0.gravatar.com/avatar/2dd612f37d46bd915f074e2ba904a0d2?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite>Dean</cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-432" title="">December 6, 2010 at 3:22 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=432#respond' onclick='return addComment.moveForm("comment-432", "432", "respond", "500")'>Reply</a> </small>

			<p>Is the Zip operator always equivalent to the corresponding hyper-operator?</p>
<p>&gt; (1,2) Z (3,4)<br />
1 3 2 4<br />
&gt; (1,2) &gt;&gt;,&lt; (1,2) Z+ (3,4)<br />
4 6<br />
&gt; (1,2) &gt;&gt;+&lt;&lt; (3,4)<br />
4 6</p>
<ul class='children'>
			<li class="comment byuser comment-author-colomon even depth-2 highlander-comment" id="comment-433">
			<img alt='' src='http://1.gravatar.com/avatar/3bfeb633907f64a75fb2db415eb13370?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite><a href='http://perl6advent.wordpress.com' rel='external nofollow' class='url'>colomon</a></cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-433" title="">December 6, 2010 at 3:39 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=433#respond' onclick='return addComment.moveForm("comment-433", "433", "respond", "500")'>Reply</a> </small>

			<p>No, it&#8217;s only &#8220;equivalent&#8221; in the simple cases.  The big difference is that zip is lazy and sequential, while hyper is eager and may execute in any order.</p>
</li>
			<li class="comment odd alt depth-2 highlander-comment" id="comment-438">
			<img alt='' src='http://1.gravatar.com/avatar/555e0003c02ff9ccb8272f2bbee011ca?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite>Larry Wall</cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-438" title="">December 6, 2010 at 11:26 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=438#respond' onclick='return addComment.moveForm("comment-438", "438", "respond", "500")'>Reply</a> </small>

			<p>Some additional differences are that hypers can work dwimmily on hierarchical values, while X and Z cannot, because they&#8217;re more list oriented.  Also, since X and Z are looser than comma, you don&#8217;t have to parenthesize comma lists as you must with (most) hyper infixes.  That is, hypers are transparent to the precedence of their base operator, while X and Z (and metasequences based on them) are forced to list infix precedence.</p>
</li>
</ul>
</li>
			<li class="comment even thread-even depth-1 highlander-comment" id="comment-436">
			<img alt='' src='http://0.gravatar.com/avatar/ef9d1cad26a9050f7d4593e60f3d19d1?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite>pete_mcstubbins</cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-436" title="">December 6, 2010 at 8:19 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=436#respond' onclick='return addComment.moveForm("comment-436", "436", "respond", "500")'>Reply</a> </small>

			<p>Can anyone explain why the &#8220;.perl&#8221; is needed at the end of an expression for the code which begins with &#8220;say&#8221;?  Thank you in advance.</p>
<ul class='children'>
			<li class="comment byuser comment-author-mawich bypostauthor odd alt depth-2 highlander-comment" id="comment-437">
			<img alt='' src='http://1.gravatar.com/avatar/b965f16099a6d0f45cf869ceef9addf2?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite><a href='http://matthew-walton.co.uk' rel='external nofollow' class='url'>Matthew Walton</a></cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-437" title="">December 6, 2010 at 9:42 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=437#respond' onclick='return addComment.moveForm("comment-437", "437", "respond", "500")'>Reply</a> </small>

			<p>I certainly can. It&#8217;s just about output formatting for the sake of these examples. The .perl method in Perl 6 returns a string representation of the object which could be fed back through the compiler to reproduce the same object (in theory &#8211; it doesn&#8217;t work for absolutely everything. It&#8217;s a bit like Data::Dumper, if you know that from Perl 5). So I used .perl when I was writing the post in order to get the output in a form which shows the structure of the produced lists. If I&#8217;d omitted it, I&#8217;d have got the standard results from converting a list to a string, which would be something more like:</p>
<p><code>&gt; say (1, 2 X 3, 4)<br />
13142324</code></p>
<p>Far less useful for the illustrative examples in the post.</p>
</li>
</ul>
</li>
			<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="comment-470">
			<img alt='' src='http://0.gravatar.com/avatar/4de99b317776279f6d2b3cc429f20dc8?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite>prakash</cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-470" title="">December 9, 2010 at 2:18 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=470#respond' onclick='return addComment.moveForm("comment-470", "470", "respond", "500")'>Reply</a> </small>

			<p>$ perl6 -v</p>
<p>This is Rakudo Perl 6, version 2010.11-15-gfedc117 built on parrot 2.10.1 RELEASE_2_10_1-679-g9bec614</p>
<p>$ perl6<br />
&gt; ((1, 2) Z, (3, 4)).perl<br />
((1, 3), (2, 4))<br />
&gt; (1, 2) Z, (3, 4)<br />
2 4 2 4</p>
<p>Why are the outputs different?</p>
<p>Thanks.</p>
<ul class='children'>
			<li class="comment byuser comment-author-colomon odd alt depth-2 highlander-comment" id="comment-471">
			<img alt='' src='http://1.gravatar.com/avatar/3bfeb633907f64a75fb2db415eb13370?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite><a href='http://perl6advent.wordpress.com' rel='external nofollow' class='url'>colomon</a></cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-471" title="">December 9, 2010 at 2:29 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=471#respond' onclick='return addComment.moveForm("comment-471", "471", "respond", "500")'>Reply</a> </small>

			<p>Because <code>(1, 2) Z, (3, 4)</code> is the equivalent of <code>((1, 2) Z, (3, 4)).Str</code>, which is doing something along the lines of &#8220;Take each element in the list, convert it to a string, and return them separated by spaces.&#8221;  <code>.perl</code> is more akin to Data::Dumper.</p>
</li>
			<li class="comment byuser comment-author-timtoady even depth-2 highlander-comment" id="comment-474">
			<img alt='' src='http://1.gravatar.com/avatar/555e0003c02ff9ccb8272f2bbee011ca?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite>timtoady</cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-474" title="">December 9, 2010 at 6:56 pm</a> | <a class='comment-reply-link' href='/2010/12/06/the-x-and-z-metaoperators/?replytocom=474#respond' onclick='return addComment.moveForm("comment-474", "474", "respond", "500")'>Reply</a> </small>

			<p>As for why it says 2 4 2 4 rather than 1 3 2 4, that&#8217;s just a rakudobug that appears to involve accidental aliasing of returned variables.</p>
<ul class='children'>
			<li class="comment byuser comment-author-colomon odd alt depth-3 highlander-comment" id="comment-475">
			<img alt='' src='http://1.gravatar.com/avatar/3bfeb633907f64a75fb2db415eb13370?s=32&amp;d=identicon&amp;r=G' class='avatar avatar-32' height='32' width='32' />			<cite><a href='http://perl6advent.wordpress.com' rel='external nofollow' class='url'>colomon</a></cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-475" title="">December 9, 2010 at 7:00 pm</a> </small>

			<p>Ack, I must have been mostly asleep not to notice that this morning.  :)</p>
</li>
</ul>
</li>
</ul>
</li>
	
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

 


								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2010/12/06/the-x-and-z-metaoperators/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://perl6advent.wordpress.com/wp-comments-post.php" method="post" id="commentform">
																										


												
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment"></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-wordpress" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=mm" alt="Gravatar" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Not published)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="text" value="" /></div>
				</div> 
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1306998973g" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
					<p id="wordpress-login-first">Please log in to WordPress.com to post a comment to your blog.</p>
				<iframe id="wordpress-login-iframe" data-srcurl="http://perl6advent.wordpress.com/wp-login.php?redirect_to=http%3A%2F%2Fperl6advent.wordpress.com%2Fhighlander.login%2F&#038;action=highlander-login&#038;skin=light"></iframe>
				</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=mm" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=mm" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service"> 
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p> 
	</div>
	
	
</div>


<div id="comment-form-subscribe"> 
<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" tabindex="6"/> <label class="subscribe-label" id="subscribe-label" for="subscribe">Notify me of follow-up comments via email.</label></p></div>

	<script type="text/javascript">
	jQuery(document).ready(function(){
		HighlanderComments.comment_registration = '';
		HighlanderComments.userIsLoggedIn = false;
			});
	</script>
												<p class="form-submit">
							<input name="submit" type="submit" id="comment-submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='500' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						
<input type="hidden" name="genseq" value="1323709588" />
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="283e6b2eac" /></p><script type='text/javascript' src='http://s1.wp.com/wp-content/mu-plugins/akismet-2.5/form.js?m=1308783980g&#038;ver=1'></script>
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="182"/></p>					</form>
							</div><!-- #respond -->
			<div style="clear: both"></div>			

	
	</div>


<hr />
<div id="footer">
	<p>
		Theme: <a href="http://theme.wordpress.com/themes/kubrick/">Kubrick</a>. <a href="http://wordpress.com/?ref=footer" rel="generator">Blog at WordPress.com</a>. 
		<br /><a href="http://perl6advent.wordpress.com/feed/">Entries (RSS)</a> and <a href="http://perl6advent.wordpress.com/comments/feed/">Comments (RSS)</a>.	</p>
</div>
</div>

<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=MU'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1318621577g&#038;ver=MU'></script>

<script type="text/javascript">
var _qevents = _qevents || [];
(function() {var elem = document.createElement('script');elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";elem.async = true;elem.type = "text/javascript";var scpt = document.getElementsByTagName('script')[0];scpt.parentNode.insertBefore(elem, scpt);  })();
_qevents.push( { qacct:"p-18-mFEk4J448M", labels:",language.en,type.wpcom,posttag.operators,as" } );
</script>
<noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif?labels=%2Clanguage.en%2Ctype.wpcom%2Cposttag.operators%2Cas" height="1" width="1" alt="" /></div></noscript>

	<script type="text/javascript">
	/* <![CDATA[ */
		jQuery(document).ready( function($) {
			
			$('#wpl-button > a.like').click( function(e) {
				e.preventDefault();
				
				$('#wpl-mustlogin').remove();
				
				$.post( 'http://perl6advent.wordpress.com/wp-admin/admin-ajax.php', { 
					'action': 'wpl_record_stat',
					'stat_name': 'loggedout_like_click'
				} );

				var tenMins = new Date();
				tenMins.setTime( tenMins.getTime() + 600000 );
				document.cookie = 'wpl_rand=5acf8c9828; expires=' + tenMins.toGMTString() + '; domain=wordpress.com; path=/;';
				
				$('#wpl-count').after( '\
					<div id="wpl-mustlogin"> \
						<form action="https://perl6advent.wordpress.com/wp-login.php" method="post"> \
							<p>Just one more step to like this post:</p> \
							<label><span>Username</span> <input type="text" name="log" id="user_login" class="input" value="" size="20" tabindex="80" /></label> \
							<label><span>Password</span> <input type="password" name="pwd" id="user_pass" class="input" value="" size="20" tabindex="81" /></label> \
							<input type="submit" name="wp-submit" id="wp-submit" class="button-primary" value="Log In" tabindex="82" /> \
							<input type="hidden" name="redirect_to" value="http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/?like=1" /> \
							<input type="hidden" name="wpl_rand" value="5acf8c9828" /> \
							<p>Not a member yet? <a href="http://wordpress.com/signup/?ref=likebox" id="wpl-signup-link">Sign up with WordPress.com</a></p> \
						</form> \
					</div> \
				');
				
				$('#wpl-mustlogin').hide().slideDown('fast');
			} );
			
			$('#wpl-mustlogin input.input').live( 'focus', function() {
				$(this).prev().hide();
			}).live( 'blur', function() {
				if ( $(this).val() == '' )
					$(this).prev().show();
			});
			
			$('#wpl-mustlogin input#wp-submit').live( 'click', function(e) {
				e.preventDefault();
				
				$.post( 'http://perl6advent.wordpress.com/wp-admin/admin-ajax.php', { 
					'action': 'wpl_record_stat',
					'stat_name': 'loggedout_login_submit'
				}, function() {
					$('#wpl-mustlogin form').submit();
				} );
			});			
			
			$('#wpl-mustlogin a#wpl-signup-link').live( 'click', function(e) {
				e.preventDefault();
				
				var link = $(this).attr('href');
				
				$.post( 'http://perl6advent.wordpress.com/wp-admin/admin-ajax.php', { 
					'action': 'wpl_record_stat',
					'stat_name': 'loggedout_signup_click'
				}, function() {
					location.href = link;
				} );
			});					
			
		});
	/* ]]> */
	</script>
<script>jQuery(document).ready(function($){ Gravatar.profile_cb = function( h, d ) { WPGroHo.syncProfileData( h, d );	}; Gravatar.my_hash = WPGroHo.my_hash; Gravatar.init( 'body', '#wpadminbar' ); });</script>	<div style="display:none">
	<div class="grofile-hash-map-0b722a5f7d2d809629ee40c63cc8576b">
	</div>
	<div class="grofile-hash-map-2dd612f37d46bd915f074e2ba904a0d2">
	</div>
	<div class="grofile-hash-map-3bfeb633907f64a75fb2db415eb13370">
	</div>
	<div class="grofile-hash-map-555e0003c02ff9ccb8272f2bbee011ca">
	</div>
	<div class="grofile-hash-map-ef9d1cad26a9050f7d4593e60f3d19d1">
	</div>
	<div class="grofile-hash-map-b965f16099a6d0f45cf869ceef9addf2">
	</div>
	<div class="grofile-hash-map-4de99b317776279f6d2b3cc429f20dc8">
	</div>
	<div class="grofile-hash-map-555e0003c02ff9ccb8272f2bbee011ca">
	</div>
	</div>
		<style type="text/css">
			
				.reblog-from img                   { margin: 0 10px 0 0; vertical-align: middle; padding: 0; border: 0; }
				.reblogger-note img.avatar         { float: left; padding: 0; border: 0; }
				.reblogger-note-content            { margin: 0 0 20px 35px; }
				.reblog-post                       { border-left: 3px solid #eee; padding-left: 15px; }
				.reblog-post ul.thumb-list         { display: block; list-style: none; margin: 2px 0; padding: 0; clear: both; }
				.reblog-post ul.thumb-list li      { display: inline; margin: 0; padding: 0 1px; border: 0; }
				.reblog-post ul.thumb-list li a    { margin: 0; padding: 0; border: 0; }
				.reblog-post ul.thumb-list li img  { margin: 0; padding: 0; border: 0; }
				.reblog-post                       { border-left: 3px solid #eee; padding-left: 15px; }
					</style><script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"http:\/\/perl6advent.wordpress.com\/public.api\/connect\/?action=request","homeURL":"http:\/\/perl6advent.wordpress.com\/","postID":"500","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Email address required","invalidEmailError":"Invalid email address","enterAuthorError":"Name required","gravatarFromEmail":"Your email address will be used to look up your Gravatar.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/script.js?m=1322513933g&#038;ver=20110804'></script>
	
	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">
			
					<h3><label for="loggedout-follow-field">Follow Perl 6 Advent Calendar</label></h3>
		
			<form action="http://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>

					
			
			<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" value="Enter email address" onfocus='this.value=(this.value=="Enter email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="10740073"/>
			<input type="hidden" name="source" value="http://perl6advent.wordpress.com/2010/12/06/the-x-and-z-metaoperators/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="535b507c2f" /><input type="hidden" name="_wp_http_referer" value="/2010/12/06/the-x-and-z-metaoperators/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up!" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->
<script type="text/javascript" src="http://b.scorecardresearch.com/beacon.js"></script><script type="text/javascript">try{COMSCORE.beacon({c1:2,c2:7518284});}catch(e){}</script><noscript><p class="robots-nocontent"><img src="http://b.scorecardresearch.com/p?cj=1c1=2&#038;c2=7518284" alt="" style="display:none" width="1" height="1" /></p></noscript><script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="http://s.stats.wordpress.com/w.js?21" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'10740073','v':'wpcom','user_id':'0','post':'500','subd':'perl6advent'});
ex_go({'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhReTFqanhKV3x0UkQxQldDVUV4ZVR+cSt8Ny8tTm40WHJCJm0yem40UEhxUkw4QyxOai11PS9zMEdMUmc2cnc1LC1MRHJiTjFWeGpoNThTT3RXUkEuY0Z+WW9sfDhrQnZxNlpERT1aMnQlSXxFP3k4cnJYcHdzLF1vJjBzV1ArV3wxdUx5ZEZqSHxnUnxdQUVkeFg2THNkdCtBN2VNQkxYNDB+d3NFakloa0lhW0IrSm1oNC1+VVQ1LDBhTGNuUE8wV2w4Zg=='});
addLoadEvent(function(){linktracker_init('10740073',500);});
	</script>
<noscript><img src="http://stats.wordpress.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
</body>
</html>
